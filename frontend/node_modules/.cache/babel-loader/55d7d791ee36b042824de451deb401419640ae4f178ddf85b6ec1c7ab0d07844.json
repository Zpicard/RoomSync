{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{CalendarIcon,PlusIcon,UserGroupIcon}from'@heroicons/react/24/outline';import{useAuth}from'../../context/AuthContext';import{guests}from'../../api/client';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Guests=()=>{const{user}=useAuth();const[announcements,setAnnouncements]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showAddModal,setShowAddModal]=useState(false);useEffect(()=>{const fetchAnnouncements=async()=>{if(!(user!==null&&user!==void 0&&user.householdId))return;try{setLoading(true);setError(null);const response=await guests.getHouseholdAnnouncements(user.householdId);setAnnouncements(response.data);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to load guest announcements');}finally{setLoading(false);}};fetchAnnouncements();},[user===null||user===void 0?void 0:user.householdId]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500\",children:error})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 dark:text-white\",children:\"Guest Announcements\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowAddModal(true),className:\"flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-gray-900\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"w-5 h-5 mr-2\"}),\"Add Announcement\"]})]})}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.1},className:\"card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Upcoming Guests\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:announcements.map(announcement=>/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"w-5 h-5 text-primary-500 dark:text-primary-400 mr-2\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"font-medium text-gray-900 dark:text-white\",children:[announcement.guestCount,\" guests\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:[\"Hosted by \",announcement.user.username]}),announcement.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:announcement.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(CalendarIcon,{className:\"w-4 h-4 mr-1\"}),/*#__PURE__*/_jsxs(\"span\",{children:[new Date(announcement.startTime).toLocaleDateString(),\" at\",' ',new Date(announcement.startTime).toLocaleTimeString(),\" -\",' ',new Date(announcement.endTime).toLocaleTimeString()]})]})})]})},announcement.id))})]}),showAddModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-10 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 transition-opacity\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline-block sm:align-middle sm:h-screen\",\"aria-hidden\":\"true\",children:\"\\u200B\"}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\"})]})})]});};export default Guests;","map":{"version":3,"names":["React","useState","useEffect","motion","CalendarIcon","PlusIcon","UserGroupIcon","useAuth","guests","jsx","_jsx","jsxs","_jsxs","Guests","user","announcements","setAnnouncements","loading","setLoading","error","setError","showAddModal","setShowAddModal","fetchAnnouncements","householdId","response","getHouseholdAnnouncements","data","_error$response","_error$response$data","className","children","div","initial","opacity","y","animate","transition","duration","onClick","delay","map","announcement","guestCount","username","description","Date","startTime","toLocaleDateString","toLocaleTimeString","endTime","id"],"sources":["/Users/zacharypicard/Desktop/School/CIS 469/Final-CIS-469-Project/roommate-app/frontend/src/components/guests/Guests.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  CalendarIcon,\n  PlusIcon,\n  UserGroupIcon,\n  XMarkIcon,\n} from '@heroicons/react/24/outline';\nimport { useAuth } from '../../context/AuthContext';\nimport { guests } from '../../api/client';\n\ninterface GuestAnnouncement {\n  id: string;\n  guestCount: number;\n  startTime: string;\n  endTime: string;\n  description?: string;\n  user: {\n    id: string;\n    username: string;\n  };\n}\n\ninterface GuestsResponse {\n  data: GuestAnnouncement[];\n}\n\nconst Guests: React.FC = () => {\n  const { user } = useAuth();\n  const [announcements, setAnnouncements] = useState<GuestAnnouncement[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  useEffect(() => {\n    const fetchAnnouncements = async () => {\n      if (!user?.householdId) return;\n\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await guests.getHouseholdAnnouncements(user.householdId);\n        setAnnouncements((response as GuestsResponse).data);\n      } catch (error: any) {\n        setError(error.response?.data?.error || 'Failed to load guest announcements');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchAnnouncements();\n  }, [user?.householdId]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-red-500\">{error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n      >\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">Guest Announcements</h1>\n          <button\n            onClick={() => setShowAddModal(true)}\n            className=\"flex items-center px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-gray-900\"\n          >\n            <PlusIcon className=\"w-5 h-5 mr-2\" />\n            Add Announcement\n          </button>\n        </div>\n      </motion.div>\n\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5, delay: 0.1 }}\n        className=\"card\"\n      >\n        <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Upcoming Guests</h2>\n        <div className=\"space-y-4\">\n          {announcements.map((announcement) => (\n            <div\n              key={announcement.id}\n              className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg transition-colors duration-200\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"flex items-center\">\n                    <UserGroupIcon className=\"w-5 h-5 text-primary-500 dark:text-primary-400 mr-2\" />\n                    <h3 className=\"font-medium text-gray-900 dark:text-white\">\n                      {announcement.guestCount} guests\n                    </h3>\n                  </div>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                    Hosted by {announcement.user.username}\n                  </p>\n                  {announcement.description && (\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                      {announcement.description}\n                    </p>\n                  )}\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center text-sm text-gray-500 dark:text-gray-400\">\n                    <CalendarIcon className=\"w-4 h-4 mr-1\" />\n                    <span>\n                      {new Date(announcement.startTime).toLocaleDateString()} at{' '}\n                      {new Date(announcement.startTime).toLocaleTimeString()} -{' '}\n                      {new Date(announcement.endTime).toLocaleTimeString()}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </motion.div>\n\n      {/* Add Announcement Modal - This would be a separate component in a real app */}\n      {showAddModal && (\n        <div className=\"fixed inset-0 z-10 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n              <div className=\"absolute inset-0 bg-gray-500 dark:bg-gray-900 opacity-75\"></div>\n            </div>\n            <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">\n              &#8203;\n            </span>\n            <div className=\"inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              {/* Modal content would go here */}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Guests; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}