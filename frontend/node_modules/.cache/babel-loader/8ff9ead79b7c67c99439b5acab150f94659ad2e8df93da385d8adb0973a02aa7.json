{"ast":null,"code":"import axios from'axios';const API_BASE_URL=import.meta.env.VITE_API_URL||'http://localhost:8080/api';const apiClient=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Add request interceptor to add auth token\napiClient.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token&&config.headers){config.headers.Authorization=`Bearer ${token}`;}return config;},error=>{return Promise.reject(error);});// Add response interceptor to handle errors\napiClient.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});// Auth endpoints\nexport const auth={login:(email,password)=>apiClient.post('/auth/login',{email,password}),register:(email,password,username)=>apiClient.post('/auth/register',{email,password,username}),verifyToken:()=>apiClient.get('/auth/verify'),getProfile:()=>apiClient.get('/auth/profile')};// Household endpoints\nexport const household={create:name=>apiClient.post('/households',{name}),join:code=>apiClient.post('/households/join',{code}),getCurrent:()=>apiClient.get('/households/current'),getMembers:householdId=>apiClient.get(`/households/${householdId}/members`)};// Task endpoints\nexport const tasks={create:(householdId,data)=>apiClient.post(`/tasks`,{...data,householdId}),getHouseholdTasks:householdId=>apiClient.get(`/tasks/household/${householdId}`),updateStatus:(taskId,status)=>apiClient.patch(`/tasks/${taskId}/status`,{status}),assignTask:(taskId,userId)=>apiClient.patch(`/tasks/${taskId}/assign`,{userId})};// Guest announcement endpoints\nexport const guests={create:(householdId,data)=>apiClient.post(`/guests`,{...data,householdId}),getHouseholdAnnouncements:householdId=>apiClient.get(`/guests/household/${householdId}`),update:(announcementId,data)=>apiClient.patch(`/guests/${announcementId}`,data),delete:announcementId=>apiClient.delete(`/guests/${announcementId}`)};export default apiClient;","map":{"version":3,"names":["axios","API_BASE_URL","import","meta","env","VITE_API_URL","apiClient","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","auth","login","email","password","post","register","username","verifyToken","get","getProfile","household","name","join","code","getCurrent","getMembers","householdId","tasks","data","getHouseholdTasks","updateStatus","taskId","patch","assignTask","userId","guests","getHouseholdAnnouncements","update","announcementId","delete"],"sources":["/Users/zacharypicard/Desktop/School/CIS 469/Final-CIS-469-Project/roommate-app/frontend/src/api/client.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = import.meta.env.VITE_API_URL || 'http://localhost:8080/api';\n\nconst apiClient = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Add request interceptor to add auth token\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token && config.headers) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Add response interceptor to handle errors\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\n// Auth endpoints\nexport const auth = {\n  login: (email: string, password: string) =>\n    apiClient.post('/auth/login', { email, password }),\n  register: (email: string, password: string, username: string) =>\n    apiClient.post('/auth/register', { email, password, username }),\n  verifyToken: () => apiClient.get('/auth/verify'),\n  getProfile: () => apiClient.get('/auth/profile'),\n};\n\n// Household endpoints\nexport const household = {\n  create: (name: string) => apiClient.post('/households', { name }),\n  join: (code: string) => apiClient.post('/households/join', { code }),\n  getCurrent: () => apiClient.get('/households/current'),\n  getMembers: (householdId: string) => apiClient.get(`/households/${householdId}/members`),\n};\n\n// Task endpoints\nexport const tasks = {\n  create: (householdId: string, data: { title: string; description: string; dueDate: string; assignedTo?: string }) =>\n    apiClient.post(`/tasks`, { ...data, householdId }),\n  getHouseholdTasks: (householdId: string) =>\n    apiClient.get(`/tasks/household/${householdId}`),\n  updateStatus: (taskId: string, status: 'TODO' | 'IN_PROGRESS' | 'DONE' | 'PENDING' | 'COMPLETED' | 'OVERDUE') =>\n    apiClient.patch(`/tasks/${taskId}/status`, { status }),\n  assignTask: (taskId: string, userId: string) =>\n    apiClient.patch(`/tasks/${taskId}/assign`, { userId }),\n};\n\n// Guest announcement endpoints\nexport const guests = {\n  create: (householdId: string, data: { guestCount: number; startTime: string; endTime: string; description?: string }) =>\n    apiClient.post(`/guests`, { ...data, householdId }),\n  getHouseholdAnnouncements: (householdId: string) =>\n    apiClient.get(`/guests/household/${householdId}`),\n  update: (announcementId: string, data: { guestCount?: number; startTime?: string; endTime?: string; description?: string }) =>\n    apiClient.patch(`/guests/${announcementId}`, data),\n  delete: (announcementId: string) =>\n    apiClient.delete(`/guests/${announcementId}`),\n};\n\nexport default apiClient; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}