{"ast":null,"code":"var _jsxFileName = \"/Users/zacharypicard/Desktop/School/CIS 469/Final-CIS-469-Project/roommate-app/frontend/src/components/household/JoinHousehold.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { household } from '../../api/client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JoinHousehold = () => {\n  _s();\n  const [code, setCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const {\n    user,\n    updateUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!code.trim()) {\n      setError('Household code is required');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await household.join(code);\n      const householdData = response.data;\n\n      // Update the user's householdId in the auth context\n      if (user) {\n        const updatedUser = {\n          ...user,\n          householdId: householdData.id\n        };\n        updateUser(updatedUser);\n      }\n      navigate('/');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Failed to join household. Please check the code and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-900 py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-6 text-center text-3xl font-extrabold text-neutral-900 dark:text-neutral-50\",\n          children: \"Join a Household\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-center text-sm text-neutral-600 dark:text-neutral-400\",\n          children: \"Enter the household code to join an existing household\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"mt-8 space-y-6\",\n        onSubmit: handleSubmit,\n        children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-md bg-red-50 dark:bg-red-900/50 p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-red-700 dark:text-red-200\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"code\",\n            className: \"block text-sm font-medium text-neutral-700 dark:text-neutral-300\",\n            children: \"Household Code\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"code\",\n            name: \"code\",\n            type: \"text\",\n            required: true,\n            className: \"mt-1 appearance-none block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-md shadow-sm placeholder-neutral-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-neutral-800 dark:text-white\",\n            placeholder: \"Enter household code\",\n            value: code,\n            onChange: e => setCode(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-xs text-neutral-500 dark:text-neutral-400\",\n            children: \"Ask the household owner for the code to join their household.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: loading,\n            className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-neutral-900 disabled:opacity-50\",\n            children: [loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"absolute left-0 inset-y-0 flex items-center pl-3\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"animate-spin h-5 w-5 text-white\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                  className: \"opacity-25\",\n                  cx: \"12\",\n                  cy: \"12\",\n                  r: \"10\",\n                  stroke: \"currentColor\",\n                  strokeWidth: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  className: \"opacity-75\",\n                  fill: \"currentColor\",\n                  d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this) : null, \"Join Household\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(JoinHousehold, \"NIXID0I/LYZ5Pgr3+kmPO4g9ogI=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = JoinHousehold;\nexport default JoinHousehold;\nvar _c;\n$RefreshReg$(_c, \"JoinHousehold\");","map":{"version":3,"names":["React","useState","useNavigate","useAuth","household","jsxDEV","_jsxDEV","JoinHousehold","_s","code","setCode","loading","setLoading","error","setError","user","updateUser","navigate","handleSubmit","e","preventDefault","trim","response","join","householdData","data","updatedUser","householdId","id","_error$response","_error$response$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","name","type","required","placeholder","value","onChange","target","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","_c","$RefreshReg$"],"sources":["/Users/zacharypicard/Desktop/School/CIS 469/Final-CIS-469-Project/roommate-app/frontend/src/components/household/JoinHousehold.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../../context/AuthContext';\nimport { household } from '../../api/client';\n\ninterface HouseholdResponse {\n  id: string;\n  name: string;\n}\n\nconst JoinHousehold: React.FC = () => {\n  const [code, setCode] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const { user, updateUser } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!code.trim()) {\n      setError('Household code is required');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await household.join(code);\n      const householdData = response.data as HouseholdResponse;\n      \n      // Update the user's householdId in the auth context\n      if (user) {\n        const updatedUser = { ...user, householdId: householdData.id };\n        updateUser(updatedUser);\n      }\n      \n      navigate('/');\n    } catch (error: any) {\n      setError(error.response?.data?.error || 'Failed to join household. Please check the code and try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-neutral-50 dark:bg-neutral-900 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-neutral-900 dark:text-neutral-50\">\n            Join a Household\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-neutral-600 dark:text-neutral-400\">\n            Enter the household code to join an existing household\n          </p>\n        </div>\n        \n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          {error && (\n            <div className=\"rounded-md bg-red-50 dark:bg-red-900/50 p-4\">\n              <div className=\"text-sm text-red-700 dark:text-red-200\">{error}</div>\n            </div>\n          )}\n          \n          <div>\n            <label htmlFor=\"code\" className=\"block text-sm font-medium text-neutral-700 dark:text-neutral-300\">\n              Household Code\n            </label>\n            <input\n              id=\"code\"\n              name=\"code\"\n              type=\"text\"\n              required\n              className=\"mt-1 appearance-none block w-full px-3 py-2 border border-neutral-300 dark:border-neutral-700 rounded-md shadow-sm placeholder-neutral-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm dark:bg-neutral-800 dark:text-white\"\n              placeholder=\"Enter household code\"\n              value={code}\n              onChange={(e) => setCode(e.target.value)}\n            />\n            <p className=\"mt-1 text-xs text-neutral-500 dark:text-neutral-400\">\n              Ask the household owner for the code to join their household.\n            </p>\n          </div>\n          \n          <div>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:focus:ring-offset-neutral-900 disabled:opacity-50\"\n            >\n              {loading ? (\n                <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n                  <svg className=\"animate-spin h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                  </svg>\n                </span>\n              ) : null}\n              Join Household\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default JoinHousehold; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}